{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\VICTUS\\\\OneDrive\\\\Desktop\\\\StudyNotion-An-Online-Education-Platform-master\\\\src\\\\components\\\\core\\\\ViewCourse\\\\VideoDetails.jsx\";\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport \"video-react/dist/video-react.css\";\nimport { useLocation } from \"react-router-dom\";\nimport { BigPlayButton, Player } from \"video-react\";\nimport { markLectureAsComplete } from \"../../../services/operations/courseDetailsAPI\";\nimport { updateCompletedLectures } from \"../../../slices/viewCourseSlice\";\nimport IconBtn from \"../../common/IconBtn\";\nconst VideoDetails = () => {\n  const {\n    courseId,\n    sectionId,\n    subSectionId\n  } = useParams();\n  const navigate = useNavigate();\n  const location = useLocation();\n  const playerRef = useRef(null);\n  const dispatch = useDispatch();\n  const {\n    token\n  } = useSelector(state => state.auth);\n  const {\n    courseSectionData,\n    courseEntireData,\n    completedLectures\n  } = useSelector(state => state.viewCourse);\n  const [videoData, setVideoData] = useState([]);\n  const [previewSource, setPreviewSource] = useState(\"\");\n  const [videoEnded, setVideoEnded] = useState(false);\n  const [loading, setLoading] = useState(false);\n  useEffect(() => {\n    ;\n    (async () => {\n      if (!courseSectionData.length) return;\n      if (!courseId && !sectionId && !subSectionId) {\n        navigate(`/dashboard/enrolled-courses`);\n      } else {\n        var _filteredData$;\n        // console.log(\"courseSectionData\", courseSectionData)\n        const filteredData = courseSectionData.filter(course => course._id === sectionId);\n        // console.log(\"filteredData\", filteredData)\n        const filteredVideoData = filteredData === null || filteredData === void 0 ? void 0 : (_filteredData$ = filteredData[0]) === null || _filteredData$ === void 0 ? void 0 : _filteredData$.subSection.filter(data => data._id === subSectionId);\n        // console.log(\"filteredVideoData\", filteredVideoData)\n        setVideoData(filteredVideoData[0]);\n        setPreviewSource(courseEntireData.thumbnail);\n        setVideoEnded(false);\n      }\n    })();\n  }, [courseSectionData, courseEntireData, location.pathname]);\n\n  // check if the lecture is the first video of the course\n  const isFirstVideo = () => {\n    const currentSectionIndx = courseSectionData.findIndex(data => data._id === sectionId);\n    const currentSubSectionIndx = courseSectionData[currentSectionIndx].subSection.findIndex(data => data._id === subSectionId);\n    if (currentSectionIndx === 0 && currentSubSectionIndx === 0) {\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n  // go to the next video\n  const goToNextVideo = () => {\n    // console.log(courseSectionData)\n\n    const currentSectionIndx = courseSectionData.findIndex(data => data._id === sectionId);\n    const noOfSubsections = courseSectionData[currentSectionIndx].subSection.length;\n    const currentSubSectionIndx = courseSectionData[currentSectionIndx].subSection.findIndex(data => data._id === subSectionId);\n\n    // console.log(\"no of subsections\", noOfSubsections)\n\n    if (currentSubSectionIndx !== noOfSubsections - 1) {\n      const nextSubSectionId = courseSectionData[currentSectionIndx].subSection[currentSubSectionIndx + 1]._id;\n      navigate(`/view-course/${courseId}/section/${sectionId}/sub-section/${nextSubSectionId}`);\n    } else {\n      const nextSectionId = courseSectionData[currentSectionIndx + 1]._id;\n      const nextSubSectionId = courseSectionData[currentSectionIndx + 1].subSection[0]._id;\n      navigate(`/view-course/${courseId}/section/${nextSectionId}/sub-section/${nextSubSectionId}`);\n    }\n  };\n\n  // check if the lecture is the last video of the course\n  const isLastVideo = () => {\n    const currentSectionIndx = courseSectionData.findIndex(data => data._id === sectionId);\n    const noOfSubsections = courseSectionData[currentSectionIndx].subSection.length;\n    const currentSubSectionIndx = courseSectionData[currentSectionIndx].subSection.findIndex(data => data._id === subSectionId);\n    if (currentSectionIndx === courseSectionData.length - 1 && currentSubSectionIndx === noOfSubsections - 1) {\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n  // go to the previous video\n  const goToPrevVideo = () => {\n    // console.log(courseSectionData)\n\n    const currentSectionIndx = courseSectionData.findIndex(data => data._id === sectionId);\n    const currentSubSectionIndx = courseSectionData[currentSectionIndx].subSection.findIndex(data => data._id === subSectionId);\n    if (currentSubSectionIndx !== 0) {\n      const prevSubSectionId = courseSectionData[currentSectionIndx].subSection[currentSubSectionIndx - 1]._id;\n      navigate(`/view-course/${courseId}/section/${sectionId}/sub-section/${prevSubSectionId}`);\n    } else {\n      const prevSectionId = courseSectionData[currentSectionIndx - 1]._id;\n      const prevSubSectionLength = courseSectionData[currentSectionIndx - 1].subSection.length;\n      const prevSubSectionId = courseSectionData[currentSectionIndx - 1].subSection[prevSubSectionLength - 1]._id;\n      navigate(`/view-course/${courseId}/section/${prevSectionId}/sub-section/${prevSubSectionId}`);\n    }\n  };\n  const handleLectureCompletion = async () => {\n    setLoading(true);\n    const res = await markLectureAsComplete({\n      courseId: courseId,\n      subsectionId: subSectionId\n    }, token);\n    if (res) {\n      dispatch(updateCompletedLectures(subSectionId));\n    }\n    setLoading(false);\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex flex-col gap-5 text-white\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 5\n    }\n  }, !videoData ? /*#__PURE__*/React.createElement(\"img\", {\n    src: previewSource,\n    alt: \"Preview\",\n    className: \"h-full w-full rounded-md object-cover\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 9\n    }\n  }) : /*#__PURE__*/React.createElement(Player, {\n    ref: playerRef,\n    aspectRatio: \"16:9\",\n    playsInline: true,\n    onEnded: () => setVideoEnded(true),\n    src: videoData === null || videoData === void 0 ? void 0 : videoData.videoUrl,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(BigPlayButton, {\n    position: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 11\n    }\n  }), videoEnded && /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      backgroundImage: \"linear-gradient(to top, rgb(0, 0, 0), rgba(0,0,0,0.7), rgba(0,0,0,0.5), rgba(0,0,0,0.1)\"\n    },\n    className: \"full absolute inset-0 z-[100] grid h-full place-content-center font-inter\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 13\n    }\n  }, !completedLectures.includes(subSectionId) && /*#__PURE__*/React.createElement(IconBtn, {\n    disabled: loading,\n    onclick: () => handleLectureCompletion(),\n    text: !loading ? \"Mark As Completed\" : \"Loading...\",\n    customClasses: \"text-xl max-w-max px-4 mx-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(IconBtn, {\n    disabled: loading,\n    onclick: () => {\n      if (playerRef === null || playerRef === void 0 ? void 0 : playerRef.current) {\n        var _playerRef$current;\n        // set the current time of the video to 0\n        playerRef === null || playerRef === void 0 ? void 0 : (_playerRef$current = playerRef.current) === null || _playerRef$current === void 0 ? void 0 : _playerRef$current.seek(0);\n        setVideoEnded(false);\n      }\n    },\n    text: \"Rewatch\",\n    customClasses: \"text-xl max-w-max px-4 mx-auto mt-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mt-10 flex min-w-[250px] justify-center gap-x-4 text-xl\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 15\n    }\n  }, !isFirstVideo() && /*#__PURE__*/React.createElement(\"button\", {\n    disabled: loading,\n    onClick: goToPrevVideo,\n    className: \"blackButton\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 19\n    }\n  }, \"Prev\"), !isLastVideo() && /*#__PURE__*/React.createElement(\"button\", {\n    disabled: loading,\n    onClick: goToNextVideo,\n    className: \"blackButton\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 19\n    }\n  }, \"Next\")))), /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"mt-4 text-3xl font-semibold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 7\n    }\n  }, videoData === null || videoData === void 0 ? void 0 : videoData.title), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"pt-2 pb-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 7\n    }\n  }, videoData === null || videoData === void 0 ? void 0 : videoData.description));\n};\nexport default VideoDetails;\n// video","map":{"version":3,"names":["React","useEffect","useRef","useState","useDispatch","useSelector","useNavigate","useParams","useLocation","BigPlayButton","Player","markLectureAsComplete","updateCompletedLectures","IconBtn","VideoDetails","courseId","sectionId","subSectionId","navigate","location","playerRef","dispatch","token","state","auth","courseSectionData","courseEntireData","completedLectures","viewCourse","videoData","setVideoData","previewSource","setPreviewSource","videoEnded","setVideoEnded","loading","setLoading","length","_filteredData$","filteredData","filter","course","_id","filteredVideoData","subSection","data","thumbnail","pathname","isFirstVideo","currentSectionIndx","findIndex","currentSubSectionIndx","goToNextVideo","noOfSubsections","nextSubSectionId","nextSectionId","isLastVideo","goToPrevVideo","prevSubSectionId","prevSectionId","prevSubSectionLength","handleLectureCompletion","res","subsectionId","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","src","alt","ref","aspectRatio","playsInline","onEnded","videoUrl","position","style","backgroundImage","includes","disabled","onclick","text","customClasses","current","_playerRef$current","seek","onClick","title","description"],"sources":["C:/Users/VICTUS/OneDrive/Desktop/StudyNotion-An-Online-Education-Platform-master/src/components/core/ViewCourse/VideoDetails.jsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\"\nimport { useDispatch, useSelector } from \"react-redux\"\nimport { useNavigate, useParams } from \"react-router-dom\"\n\nimport \"video-react/dist/video-react.css\"\nimport { useLocation } from \"react-router-dom\"\nimport { BigPlayButton, Player } from \"video-react\"\n\nimport { markLectureAsComplete } from \"../../../services/operations/courseDetailsAPI\"\nimport { updateCompletedLectures } from \"../../../slices/viewCourseSlice\"\nimport IconBtn from \"../../common/IconBtn\"\n\nconst VideoDetails = () => {\n  const { courseId, sectionId, subSectionId } = useParams()\n  const navigate = useNavigate()\n  const location = useLocation()\n  const playerRef = useRef(null)\n  const dispatch = useDispatch()\n  const { token } = useSelector((state) => state.auth)\n  const { courseSectionData, courseEntireData, completedLectures } =\n    useSelector((state) => state.viewCourse)\n\n  const [videoData, setVideoData] = useState([])\n  const [previewSource, setPreviewSource] = useState(\"\")\n  const [videoEnded, setVideoEnded] = useState(false)\n  const [loading, setLoading] = useState(false)\n\n  useEffect(() => {\n    ;(async () => {\n      if (!courseSectionData.length) return\n      if (!courseId && !sectionId && !subSectionId) {\n        navigate(`/dashboard/enrolled-courses`)\n      } else {\n        // console.log(\"courseSectionData\", courseSectionData)\n        const filteredData = courseSectionData.filter(\n          (course) => course._id === sectionId\n        )\n        // console.log(\"filteredData\", filteredData)\n        const filteredVideoData = filteredData?.[0]?.subSection.filter(\n          (data) => data._id === subSectionId\n        )\n        // console.log(\"filteredVideoData\", filteredVideoData)\n        setVideoData(filteredVideoData[0])\n        setPreviewSource(courseEntireData.thumbnail)\n        setVideoEnded(false)\n      }\n    })()\n  }, [courseSectionData, courseEntireData, location.pathname])\n\n  // check if the lecture is the first video of the course\n  const isFirstVideo = () => {\n    const currentSectionIndx = courseSectionData.findIndex(\n      (data) => data._id === sectionId\n    )\n\n    const currentSubSectionIndx = courseSectionData[\n      currentSectionIndx\n    ].subSection.findIndex((data) => data._id === subSectionId)\n\n    if (currentSectionIndx === 0 && currentSubSectionIndx === 0) {\n      return true\n    } else {\n      return false\n    }\n  }\n\n  // go to the next video\n  const goToNextVideo = () => {\n    // console.log(courseSectionData)\n\n    const currentSectionIndx = courseSectionData.findIndex(\n      (data) => data._id === sectionId\n    )\n\n    const noOfSubsections =\n      courseSectionData[currentSectionIndx].subSection.length\n\n    const currentSubSectionIndx = courseSectionData[\n      currentSectionIndx\n    ].subSection.findIndex((data) => data._id === subSectionId)\n\n    // console.log(\"no of subsections\", noOfSubsections)\n\n    if (currentSubSectionIndx !== noOfSubsections - 1) {\n      const nextSubSectionId =\n        courseSectionData[currentSectionIndx].subSection[\n          currentSubSectionIndx + 1\n        ]._id\n      navigate(\n        `/view-course/${courseId}/section/${sectionId}/sub-section/${nextSubSectionId}`\n      )\n    } else {\n      const nextSectionId = courseSectionData[currentSectionIndx + 1]._id\n      const nextSubSectionId =\n        courseSectionData[currentSectionIndx + 1].subSection[0]._id\n      navigate(\n        `/view-course/${courseId}/section/${nextSectionId}/sub-section/${nextSubSectionId}`\n      )\n    }\n  }\n\n  // check if the lecture is the last video of the course\n  const isLastVideo = () => {\n    const currentSectionIndx = courseSectionData.findIndex(\n      (data) => data._id === sectionId\n    )\n\n    const noOfSubsections =\n      courseSectionData[currentSectionIndx].subSection.length\n\n    const currentSubSectionIndx = courseSectionData[\n      currentSectionIndx\n    ].subSection.findIndex((data) => data._id === subSectionId)\n\n    if (\n      currentSectionIndx === courseSectionData.length - 1 &&\n      currentSubSectionIndx === noOfSubsections - 1\n    ) {\n      return true\n    } else {\n      return false\n    }\n  }\n\n  // go to the previous video\n  const goToPrevVideo = () => {\n    // console.log(courseSectionData)\n\n    const currentSectionIndx = courseSectionData.findIndex(\n      (data) => data._id === sectionId\n    )\n\n    const currentSubSectionIndx = courseSectionData[\n      currentSectionIndx\n    ].subSection.findIndex((data) => data._id === subSectionId)\n\n    if (currentSubSectionIndx !== 0) {\n      const prevSubSectionId =\n        courseSectionData[currentSectionIndx].subSection[\n          currentSubSectionIndx - 1\n        ]._id\n      navigate(\n        `/view-course/${courseId}/section/${sectionId}/sub-section/${prevSubSectionId}`\n      )\n    } else {\n      const prevSectionId = courseSectionData[currentSectionIndx - 1]._id\n      const prevSubSectionLength =\n        courseSectionData[currentSectionIndx - 1].subSection.length\n      const prevSubSectionId =\n        courseSectionData[currentSectionIndx - 1].subSection[\n          prevSubSectionLength - 1\n        ]._id\n      navigate(\n        `/view-course/${courseId}/section/${prevSectionId}/sub-section/${prevSubSectionId}`\n      )\n    }\n  }\n\n  const handleLectureCompletion = async () => {\n    setLoading(true)\n    const res = await markLectureAsComplete(\n      { courseId: courseId, subsectionId: subSectionId },\n      token\n    )\n    if (res) {\n      dispatch(updateCompletedLectures(subSectionId))\n    }\n    setLoading(false)\n  }\n\n  return (\n    <div className=\"flex flex-col gap-5 text-white\">\n      {!videoData ? (\n        <img\n          src={previewSource}\n          alt=\"Preview\"\n          className=\"h-full w-full rounded-md object-cover\"\n        />\n      ) : (\n        <Player\n          ref={playerRef}\n          aspectRatio=\"16:9\"\n          playsInline\n          onEnded={() => setVideoEnded(true)}\n          src={videoData?.videoUrl}\n        >\n          <BigPlayButton position=\"center\" />\n          {/* Render When Video Ends */}\n          {videoEnded && (\n            <div\n              style={{\n                backgroundImage:\n                  \"linear-gradient(to top, rgb(0, 0, 0), rgba(0,0,0,0.7), rgba(0,0,0,0.5), rgba(0,0,0,0.1)\",\n              }}\n              className=\"full absolute inset-0 z-[100] grid h-full place-content-center font-inter\"\n            >\n              {!completedLectures.includes(subSectionId) && (\n                <IconBtn\n                  disabled={loading}\n                  onclick={() => handleLectureCompletion()}\n                  text={!loading ? \"Mark As Completed\" : \"Loading...\"}\n                  customClasses=\"text-xl max-w-max px-4 mx-auto\"\n                />\n              )}\n              <IconBtn\n                disabled={loading}\n                onclick={() => {\n                  if (playerRef?.current) {\n                    // set the current time of the video to 0\n                    playerRef?.current?.seek(0)\n                    setVideoEnded(false)\n                  }\n                }}\n                text=\"Rewatch\"\n                customClasses=\"text-xl max-w-max px-4 mx-auto mt-2\"\n              />\n              <div className=\"mt-10 flex min-w-[250px] justify-center gap-x-4 text-xl\">\n                {!isFirstVideo() && (\n                  <button\n                    disabled={loading}\n                    onClick={goToPrevVideo}\n                    className=\"blackButton\"\n                  >\n                    Prev\n                  </button>\n                )}\n                {!isLastVideo() && (\n                  <button\n                    disabled={loading}\n                    onClick={goToNextVideo}\n                    className=\"blackButton\"\n                  >\n                    Next\n                  </button>\n                )}\n              </div>\n            </div>\n          )}\n        </Player>\n      )}\n\n      <h1 className=\"mt-4 text-3xl font-semibold\">{videoData?.title}</h1>\n      <p className=\"pt-2 pb-6\">{videoData?.description}</p>\n    </div>\n  )\n}\n\nexport default VideoDetails\n// video"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,MAAM,EAAEC,QAAQ,QAAQ,OAAO;AAC1D,SAASC,WAAW,EAAEC,WAAW,QAAQ,aAAa;AACtD,SAASC,WAAW,EAAEC,SAAS,QAAQ,kBAAkB;AAEzD,OAAO,kCAAkC;AACzC,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,aAAa,EAAEC,MAAM,QAAQ,aAAa;AAEnD,SAASC,qBAAqB,QAAQ,+CAA+C;AACrF,SAASC,uBAAuB,QAAQ,iCAAiC;AACzE,OAAOC,OAAO,MAAM,sBAAsB;AAE1C,MAAMC,YAAY,GAAGA,CAAA,KAAM;EACzB,MAAM;IAAEC,QAAQ;IAAEC,SAAS;IAAEC;EAAa,CAAC,GAAGV,SAAS,CAAC,CAAC;EACzD,MAAMW,QAAQ,GAAGZ,WAAW,CAAC,CAAC;EAC9B,MAAMa,QAAQ,GAAGX,WAAW,CAAC,CAAC;EAC9B,MAAMY,SAAS,GAAGlB,MAAM,CAAC,IAAI,CAAC;EAC9B,MAAMmB,QAAQ,GAAGjB,WAAW,CAAC,CAAC;EAC9B,MAAM;IAAEkB;EAAM,CAAC,GAAGjB,WAAW,CAAEkB,KAAK,IAAKA,KAAK,CAACC,IAAI,CAAC;EACpD,MAAM;IAAEC,iBAAiB;IAAEC,gBAAgB;IAAEC;EAAkB,CAAC,GAC9DtB,WAAW,CAAEkB,KAAK,IAAKA,KAAK,CAACK,UAAU,CAAC;EAE1C,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAG3B,QAAQ,CAAC,EAAE,CAAC;EAC9C,MAAM,CAAC4B,aAAa,EAAEC,gBAAgB,CAAC,GAAG7B,QAAQ,CAAC,EAAE,CAAC;EACtD,MAAM,CAAC8B,UAAU,EAAEC,aAAa,CAAC,GAAG/B,QAAQ,CAAC,KAAK,CAAC;EACnD,MAAM,CAACgC,OAAO,EAAEC,UAAU,CAAC,GAAGjC,QAAQ,CAAC,KAAK,CAAC;EAE7CF,SAAS,CAAC,MAAM;IACd;IAAC,CAAC,YAAY;MACZ,IAAI,CAACwB,iBAAiB,CAACY,MAAM,EAAE;MAC/B,IAAI,CAACtB,QAAQ,IAAI,CAACC,SAAS,IAAI,CAACC,YAAY,EAAE;QAC5CC,QAAQ,CAAC,6BAA6B,CAAC;MACzC,CAAC,MAAM;QAAA,IAAAoB,cAAA;QACL;QACA,MAAMC,YAAY,GAAGd,iBAAiB,CAACe,MAAM,CAC1CC,MAAM,IAAKA,MAAM,CAACC,GAAG,KAAK1B,SAC7B,CAAC;QACD;QACA,MAAM2B,iBAAiB,GAAGJ,YAAY,aAAZA,YAAY,wBAAAD,cAAA,GAAZC,YAAY,CAAG,CAAC,CAAC,cAAAD,cAAA,uBAAjBA,cAAA,CAAmBM,UAAU,CAACJ,MAAM,CAC3DK,IAAI,IAAKA,IAAI,CAACH,GAAG,KAAKzB,YACzB,CAAC;QACD;QACAa,YAAY,CAACa,iBAAiB,CAAC,CAAC,CAAC,CAAC;QAClCX,gBAAgB,CAACN,gBAAgB,CAACoB,SAAS,CAAC;QAC5CZ,aAAa,CAAC,KAAK,CAAC;MACtB;IACF,CAAC,EAAE,CAAC;EACN,CAAC,EAAE,CAACT,iBAAiB,EAAEC,gBAAgB,EAAEP,QAAQ,CAAC4B,QAAQ,CAAC,CAAC;;EAE5D;EACA,MAAMC,YAAY,GAAGA,CAAA,KAAM;IACzB,MAAMC,kBAAkB,GAAGxB,iBAAiB,CAACyB,SAAS,CACnDL,IAAI,IAAKA,IAAI,CAACH,GAAG,KAAK1B,SACzB,CAAC;IAED,MAAMmC,qBAAqB,GAAG1B,iBAAiB,CAC7CwB,kBAAkB,CACnB,CAACL,UAAU,CAACM,SAAS,CAAEL,IAAI,IAAKA,IAAI,CAACH,GAAG,KAAKzB,YAAY,CAAC;IAE3D,IAAIgC,kBAAkB,KAAK,CAAC,IAAIE,qBAAqB,KAAK,CAAC,EAAE;MAC3D,OAAO,IAAI;IACb,CAAC,MAAM;MACL,OAAO,KAAK;IACd;EACF,CAAC;;EAED;EACA,MAAMC,aAAa,GAAGA,CAAA,KAAM;IAC1B;;IAEA,MAAMH,kBAAkB,GAAGxB,iBAAiB,CAACyB,SAAS,CACnDL,IAAI,IAAKA,IAAI,CAACH,GAAG,KAAK1B,SACzB,CAAC;IAED,MAAMqC,eAAe,GACnB5B,iBAAiB,CAACwB,kBAAkB,CAAC,CAACL,UAAU,CAACP,MAAM;IAEzD,MAAMc,qBAAqB,GAAG1B,iBAAiB,CAC7CwB,kBAAkB,CACnB,CAACL,UAAU,CAACM,SAAS,CAAEL,IAAI,IAAKA,IAAI,CAACH,GAAG,KAAKzB,YAAY,CAAC;;IAE3D;;IAEA,IAAIkC,qBAAqB,KAAKE,eAAe,GAAG,CAAC,EAAE;MACjD,MAAMC,gBAAgB,GACpB7B,iBAAiB,CAACwB,kBAAkB,CAAC,CAACL,UAAU,CAC9CO,qBAAqB,GAAG,CAAC,CAC1B,CAACT,GAAG;MACPxB,QAAQ,CACN,gBAAgBH,QAAQ,YAAYC,SAAS,gBAAgBsC,gBAAgB,EAC/E,CAAC;IACH,CAAC,MAAM;MACL,MAAMC,aAAa,GAAG9B,iBAAiB,CAACwB,kBAAkB,GAAG,CAAC,CAAC,CAACP,GAAG;MACnE,MAAMY,gBAAgB,GACpB7B,iBAAiB,CAACwB,kBAAkB,GAAG,CAAC,CAAC,CAACL,UAAU,CAAC,CAAC,CAAC,CAACF,GAAG;MAC7DxB,QAAQ,CACN,gBAAgBH,QAAQ,YAAYwC,aAAa,gBAAgBD,gBAAgB,EACnF,CAAC;IACH;EACF,CAAC;;EAED;EACA,MAAME,WAAW,GAAGA,CAAA,KAAM;IACxB,MAAMP,kBAAkB,GAAGxB,iBAAiB,CAACyB,SAAS,CACnDL,IAAI,IAAKA,IAAI,CAACH,GAAG,KAAK1B,SACzB,CAAC;IAED,MAAMqC,eAAe,GACnB5B,iBAAiB,CAACwB,kBAAkB,CAAC,CAACL,UAAU,CAACP,MAAM;IAEzD,MAAMc,qBAAqB,GAAG1B,iBAAiB,CAC7CwB,kBAAkB,CACnB,CAACL,UAAU,CAACM,SAAS,CAAEL,IAAI,IAAKA,IAAI,CAACH,GAAG,KAAKzB,YAAY,CAAC;IAE3D,IACEgC,kBAAkB,KAAKxB,iBAAiB,CAACY,MAAM,GAAG,CAAC,IACnDc,qBAAqB,KAAKE,eAAe,GAAG,CAAC,EAC7C;MACA,OAAO,IAAI;IACb,CAAC,MAAM;MACL,OAAO,KAAK;IACd;EACF,CAAC;;EAED;EACA,MAAMI,aAAa,GAAGA,CAAA,KAAM;IAC1B;;IAEA,MAAMR,kBAAkB,GAAGxB,iBAAiB,CAACyB,SAAS,CACnDL,IAAI,IAAKA,IAAI,CAACH,GAAG,KAAK1B,SACzB,CAAC;IAED,MAAMmC,qBAAqB,GAAG1B,iBAAiB,CAC7CwB,kBAAkB,CACnB,CAACL,UAAU,CAACM,SAAS,CAAEL,IAAI,IAAKA,IAAI,CAACH,GAAG,KAAKzB,YAAY,CAAC;IAE3D,IAAIkC,qBAAqB,KAAK,CAAC,EAAE;MAC/B,MAAMO,gBAAgB,GACpBjC,iBAAiB,CAACwB,kBAAkB,CAAC,CAACL,UAAU,CAC9CO,qBAAqB,GAAG,CAAC,CAC1B,CAACT,GAAG;MACPxB,QAAQ,CACN,gBAAgBH,QAAQ,YAAYC,SAAS,gBAAgB0C,gBAAgB,EAC/E,CAAC;IACH,CAAC,MAAM;MACL,MAAMC,aAAa,GAAGlC,iBAAiB,CAACwB,kBAAkB,GAAG,CAAC,CAAC,CAACP,GAAG;MACnE,MAAMkB,oBAAoB,GACxBnC,iBAAiB,CAACwB,kBAAkB,GAAG,CAAC,CAAC,CAACL,UAAU,CAACP,MAAM;MAC7D,MAAMqB,gBAAgB,GACpBjC,iBAAiB,CAACwB,kBAAkB,GAAG,CAAC,CAAC,CAACL,UAAU,CAClDgB,oBAAoB,GAAG,CAAC,CACzB,CAAClB,GAAG;MACPxB,QAAQ,CACN,gBAAgBH,QAAQ,YAAY4C,aAAa,gBAAgBD,gBAAgB,EACnF,CAAC;IACH;EACF,CAAC;EAED,MAAMG,uBAAuB,GAAG,MAAAA,CAAA,KAAY;IAC1CzB,UAAU,CAAC,IAAI,CAAC;IAChB,MAAM0B,GAAG,GAAG,MAAMnD,qBAAqB,CACrC;MAAEI,QAAQ,EAAEA,QAAQ;MAAEgD,YAAY,EAAE9C;IAAa,CAAC,EAClDK,KACF,CAAC;IACD,IAAIwC,GAAG,EAAE;MACPzC,QAAQ,CAACT,uBAAuB,CAACK,YAAY,CAAC,CAAC;IACjD;IACAmB,UAAU,CAAC,KAAK,CAAC;EACnB,CAAC;EAED,oBACEpC,KAAA,CAAAgE,aAAA;IAAKC,SAAS,EAAC,gCAAgC;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAC5C,CAAC1C,SAAS,gBACT7B,KAAA,CAAAgE,aAAA;IACEQ,GAAG,EAAEzC,aAAc;IACnB0C,GAAG,EAAC,SAAS;IACbR,SAAS,EAAC,uCAAuC;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAClD,CAAC,gBAEFvE,KAAA,CAAAgE,aAAA,CAACtD,MAAM;IACLgE,GAAG,EAAEtD,SAAU;IACfuD,WAAW,EAAC,MAAM;IAClBC,WAAW;IACXC,OAAO,EAAEA,CAAA,KAAM3C,aAAa,CAAC,IAAI,CAAE;IACnCsC,GAAG,EAAE3C,SAAS,aAATA,SAAS,uBAATA,SAAS,CAAEiD,QAAS;IAAAZ,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAEzBvE,KAAA,CAAAgE,aAAA,CAACvD,aAAa;IAACsE,QAAQ,EAAC,QAAQ;IAAAb,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CAAC,EAElCtC,UAAU,iBACTjC,KAAA,CAAAgE,aAAA;IACEgB,KAAK,EAAE;MACLC,eAAe,EACb;IACJ,CAAE;IACFhB,SAAS,EAAC,2EAA2E;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAEpF,CAAC5C,iBAAiB,CAACuD,QAAQ,CAACjE,YAAY,CAAC,iBACxCjB,KAAA,CAAAgE,aAAA,CAACnD,OAAO;IACNsE,QAAQ,EAAEhD,OAAQ;IAClBiD,OAAO,EAAEA,CAAA,KAAMvB,uBAAuB,CAAC,CAAE;IACzCwB,IAAI,EAAE,CAAClD,OAAO,GAAG,mBAAmB,GAAG,YAAa;IACpDmD,aAAa,EAAC,gCAAgC;IAAApB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAC/C,CACF,eACDvE,KAAA,CAAAgE,aAAA,CAACnD,OAAO;IACNsE,QAAQ,EAAEhD,OAAQ;IAClBiD,OAAO,EAAEA,CAAA,KAAM;MACb,IAAIhE,SAAS,aAATA,SAAS,uBAATA,SAAS,CAAEmE,OAAO,EAAE;QAAA,IAAAC,kBAAA;QACtB;QACApE,SAAS,aAATA,SAAS,wBAAAoE,kBAAA,GAATpE,SAAS,CAAEmE,OAAO,cAAAC,kBAAA,uBAAlBA,kBAAA,CAAoBC,IAAI,CAAC,CAAC,CAAC;QAC3BvD,aAAa,CAAC,KAAK,CAAC;MACtB;IACF,CAAE;IACFmD,IAAI,EAAC,SAAS;IACdC,aAAa,EAAC,qCAAqC;IAAApB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CACpD,CAAC,eACFvE,KAAA,CAAAgE,aAAA;IAAKC,SAAS,EAAC,yDAAyD;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GACrE,CAACvB,YAAY,CAAC,CAAC,iBACdhD,KAAA,CAAAgE,aAAA;IACEmB,QAAQ,EAAEhD,OAAQ;IAClBuD,OAAO,EAAEjC,aAAc;IACvBQ,SAAS,EAAC,aAAa;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GACxB,MAEO,CACT,EACA,CAACf,WAAW,CAAC,CAAC,iBACbxD,KAAA,CAAAgE,aAAA;IACEmB,QAAQ,EAAEhD,OAAQ;IAClBuD,OAAO,EAAEtC,aAAc;IACvBa,SAAS,EAAC,aAAa;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GACxB,MAEO,CAEP,CACF,CAED,CACT,eAEDvE,KAAA,CAAAgE,aAAA;IAAIC,SAAS,EAAC,6BAA6B;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAE1C,SAAS,aAATA,SAAS,uBAATA,SAAS,CAAE8D,KAAU,CAAC,eACnE3F,KAAA,CAAAgE,aAAA;IAAGC,SAAS,EAAC,WAAW;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAE1C,SAAS,aAATA,SAAS,uBAATA,SAAS,CAAE+D,WAAe,CACjD,CAAC;AAEV,CAAC;AAED,eAAe9E,YAAY;AAC3B","ignoreList":[]},"metadata":{},"sourceType":"module"}